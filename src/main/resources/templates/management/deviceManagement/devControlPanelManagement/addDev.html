<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="content-type" content="text/html">
    <meta charset="UTF-8">
    <title>新增设备</title>
    <script type="text/javascript" th:src="@{/webjars/layui/2.6.8/layui.js}"></script>
    <link rel="stylesheet" th:href="@{/webjars/layui/2.6.8/css/layui.css}">
    <link rel="stylesheet" th:href="@{/css/layuiForm.css}">
    <script th:src="@{/webjars/jquery/3.5.1/jquery.js}"></script>
    <script th:src="@{/js/formUtil.js}"></script>
    <style>
        input::-webkit-input-placeholder {
            color: #dadada !important;
        }
        .layui-form-item .layui-input-inline{
            border:1px solid #1775DA !important;
            border-radius: 4px;
        }
    </style>
</head>
<body>
<div  class="layui-container" style="margin-top: 10px">
    <form id="form" class="layui-form" name="form">
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*&nbsp;</span>设备序列号:</label>
            <div class="layui-input-inline">
                <input type="text" name="devSN"  id="devSN" lay-verify="required" placeholder="请输入设备序列号" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*&nbsp;</span>设备类型:</label>
            <div class="layui-input-inline div-select" >
                <select name="devType" noinputmsg="请选择设备类型" lay-filter="devType" >
                    <option><span>请选择设备类型</span></option>
                    <option th:each="devTypeInfo:${devTypeInfoList}"  th:value="${devTypeInfo.devTypeName}" ><span th:text="${devTypeInfo.devTypeName}"></span></option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*&nbsp;</span>设备型号:</label>
            <div class="layui-input-inline">
                <input type="text" name="devModel"  id="devModel" lay-verify="required" placeholder="请输入设备型号" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*&nbsp;</span>设备厂家:</label>
            <div class="layui-input-inline">
                <input type="text" name="devFactory"  id="devFactory" lay-verify="required" placeholder="请输入设备厂家" autocomplete="off" class="layui-input">
            </div>
        </div>
    </form>
</div>
</body>
<script>

    function initModifyView(data) {
        console.info("initModifyView")
        console.info(data)
        // $("select[name='devType']").val(data.devType);

        $('[name="devSN"]').attr('readonly', 'readonly');
        $('[name="devSN"]').click(function () {
            layer.tips('无法修改', '[name="devSN"]', {
                tips: [1, '#3595CC'],
                time: 1000
            });
        })
        $(".div-select").html('');
        $(".div-select").html('  <input type="text" name="devType"  id="devType" lay-verify="required" placeholder="请输入设备类型" autocomplete="off" class="layui-input">\n')
        $('[name="devType"]').val(data.devType)
        $('[name="devType"]').attr('readonly', 'readonly');
        $('[name="devType"]').click(function () {
            layer.tips('无法修改', '[name="devType"]', {
                tips: [1, '#3595CC'],
                time: 1000
            });
        })
        // $('[name="devModel"]').attr('readonly', 'readonly');
        // $('[name="devModel"]').click(function () {
        //     layer.tips('无法修改', '[name="devModel"]', {
        //         tips: [1, '#3595CC'],
        //         time: 1000
        //     });
        // })
        // $('[name="devFactory"]').attr('readonly', 'readonly');
        // $('[name="devFactory"]').click(function () {
        //     layer.tips('无法修改', '[name="devFactory"]', {
        //         tips: [1, '#3595CC'],
        //         time: 1000
        //     });
        // })
        //重新渲染表单,只有执行了这一步，部分表单元素才会自动修饰成功
        layui.form.render('select');
    }

</script>
</html>